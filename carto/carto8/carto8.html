<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Responsive iframe</title>

    <link rel="stylesheet" type="text/css" href="carto8.css">


  </head>

  <body>
  
    <div class="container">
      <div class="row">
        <section>
          <div class="region">





            <p>C'est l'histoire du blabla qui veut s'intégrer dans la communauté du blabla. Blabla porte le lourd fardeau d'être une balise iframe. Totalement reclu de la société, blabla est très triste et trop isolé..</p>
            <p><iframe class="onpv_grap1" src="../../onpv/graph1/onpv_graph1.html"></iframe></p>       
            <p>Le blabla continue son bout de chemin...</p>
            <p>Il trouve enfin son pote ! Abracadabra ! Blabla et Abracadabra se ressemblent sur un point unique : la balise iframe.</p>
            <p><iframe class="onpv_grap2" src="../../onpv/graph2/onpv_graph2.html"></iframe></p>
            <p>Et un dernier pour la route, une iframe de toute beauté, crée de toute pièce par Abracadra, après un long monologue de Blabla, le voici : l'iframe Alibaba ! (selon des croyances, trésor tu trouveras).</p>
            <p><iframe class="onpv_grap3" src="../../onpv/graph3/onpv_graph3.html"></iframe></p>

           </div>
        </section>
      </div>
    </div>




    <script>

      let eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
      let eventer = window[eventMethod];
      let messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";

      eventer(messageEvent,function(e) {

        if (  (typeof e.data === "string") && (e.data.indexOf("documentHeight") > -1) ) {

          let height = e.data.split('documentHeight:')[1]
          height = parseInt(height) + 50;
          console.log(height)

          document.querySelector(".onpv_grap1").height = height + 'px';

        } 
      },false);



    </script>



  </body>
</html>
